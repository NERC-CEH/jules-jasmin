<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
    <xi:include href="../layout.html" />
<head lang="en">
    <meta charset="UTF-8"/>
    <title>Model Runs</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="${h.url('/layout/joj_catalogue.css')}"/>
<style>
    .action-text {
        color: #808080;
        text-shadow: 0 0;
        margin-bottom: 5px;
    }
    .info-title
    {
        padding-right: 10px;
        font-weight: bold;
    }
    .info-text
    {

    }
</style>
</head>
<body id="catalogue">
<div class="row">
<div class="span1 ico-span">
        <!--If the run status does not allow visualisation we just display an inert icon -->
        <i py:if="not c.model_run.status.allow_visualise()" class="fa fa-globe fa-4x ico-disabled"></i>
        <!--If the run status allows us to visualise the run on the map then we display the map icon with color / hover-->
        <a href="${h.url(controller='map', action='view', id=c.model_run.id)}" py:if="c.model_run.status.allow_visualise()"
           onmouseover="$(this).parent().find('div').css('visibility','visible');$(this).find('i').addClass('green')"
           onmouseout="$(this).parent().find('div').css('visibility','hidden');$(this).find('i').removeClass('green')">
            <i class="fa fa-globe fa-4x ico"></i>
        </a>
        <div class="ico-text green">Visualise</div>
    </div>
    <div class="span11">
        <h1>${c.model_run.name}</h1>
        <h5 class="description">Created by ${c.model_run.user.name} on ${h.display_date(c.model_run.date_created, "%d %b %Y at %X")}</h5>
    </div>
</div>
<hr/>
<!--<div class="well">-->
<div class="row">
    <div class="span2 status-span" style="text-align: left">
        <h2 class="status" style="color:${c.model_run.status.get_display_color()};">${c.model_run.status.name}</h2>
        <span class="date" py:if="not c.model_run.status.is_published()">
            ${h.display_date(c.model_run.last_status_change, "%d %b %Y at %X")}
        </span>
        <span class="date" py:if="c.model_run.status.is_published()">
            by ${c.model_run.user.name}
        </span>
    </div>
    <div class="span7"></div>
    <div class="span3 ico-span">
        <div class="row">
            <!--The Publish Icon-->
            <div class="span1">
                <br/>
                <!--If the run status does not allow publishing we just display an inert icon -->
                <i py:if="not c.model_run.status.allow_publish() and not c.model_run.status.is_published()" class="fa fa-share-square-o fa-2x ico-disabled"></i>
                <!--If the run status is published we display an inert purple icon -->
                <i py:if="c.model_run.status.is_published()" class="fa fa-share-square-o fa-2x purple"></i>
                <!--If the run status allows us to publish the run on the map then we display the publish icon with color / hover-->
                <form py:if="c.model_run.status.allow_publish()"
                        action="${h.url(controller='model_run', action='publish', id=c.model_run.id)}"
                        method="post"
                        data-confirm="You can not undo publishing a run. Are you sure you want to publish it?">
                    <input type="hidden" name="came_from" id="came_from" value="summary"/>
                    <a href="#" onclick="$(this).parent().submit()"
                       onmouseover="$(this).parent().find('div').css('visibility','visible');$(this).find('i').addClass('purple')"
                       onmouseout="$(this).parent().find('div').css('visibility','hidden');$(this).find('i').removeClass('purple')">
                        <i class="fa fa-share-square-o fa-2x ico" ></i>
                    </a>
                    <div class="ico-text purple">Publish</div>
                </form>
            </div>
            <!--The Copy Icon -->
            <div class="span1">
                <br/>
                <a href="#" onmouseover="$(this).parent().find('div').css('visibility','visible');$(this).find('i').addClass('yellow')"
                            onmouseout="$(this).parent().find('div').css('visibility','hidden');$(this).find('i').removeClass('yellow')">
                    <i class="fa fa-copy fa-2x ico"></i>
                </a>
                <div class="ico-text yellow">Duplicate</div>
            </div>
            <!--The Delete Icon -->
            <div class="span1">
                <br/>
                <!--If the run is published we cannot delete it so display an inert icon-->
                <i py:if="c.model_run.status.is_published()" class="fa fa-times-circle fa-2x ico-disabled"></i>
                <!--If it's not published, add the delete icon -->
                <a href="#" py:if="not c.model_run.status.is_published()"
                   onmouseover="$(this).parent().find('div').css('visibility','visible');$(this).find('i').addClass('red')"
                   onmouseout="$(this).parent().find('div').css('visibility','hidden');$(this).find('i').removeClass('red')">
                    <i class="fa fa-times-circle fa-2x ico"></i>
                </a>
                <div class="ico-text red">Delete</div>
            </div>
        </div>
    </div>
</div>
<!--</div>-->
<hr/>
<h5>Description</h5>
<p class="description">${c.model_run.description}</p>
<h5>Run Info</h5>
<table class="description">
    <!--Date created-->
    <tr py:if="c.model_run.date_created is not None">
        <td class="info-title">Date created:</td>
        <td class="info-text"> ${h.display_date(c.model_run.date_created, "%d %b %Y at %X")}</td>
    </tr>
    <!--Date submitted-->
    <tr py:if="c.model_run.date_submitted is not None">
        <td class="info-title">Date submitted:</td>
        <td class="info-text">${h.display_date(c.model_run.date_submitted, "%d %b %Y at %X")}</td>
    </tr>
    <tr py:if="c.model_run.date_submitted is None">
        <td class="info-title">Date submitted:</td>
        <td class="info-text">Not yet submitted</td>
    </tr>
    <!--Date started-->
    <tr py:if="c.model_run.date_started is not None">
        <td class="info-title">Date started:</td>
        <td class="info-text">${h.display_date(c.model_run.date_started, "%d %b %Y at %X")}</td>
    </tr>
    <tr py:if="c.model_run.date_started is None">
        <td class="info-title">Date started:</td>
        <td class="info-text">Not yet started</td>
    </tr>
</table>
<h5>Selected Parameters</h5>
<table class="description">
   <tr>
       <td class="info-title">Parameter 1:</td>
       <td class="info-text">1.1213 </td>
   </tr>
   <tr>
       <td class="info-title">Parameter 2:</td>
       <td class="info-text">Type A </td>
   </tr>
   <tr>
       <td class="info-title">Parameter 3:</td>
       <td class="info-text">Summer </td>
   </tr>
   <tr>
       <td class="info-title">Parameter 4:</td>
       <td class="info-text">450K </td>
   </tr>
</table>
<h5>Selected Results</h5>
<table class="description">
    <tr>
       <td class="info-title">Result 1:</td>
       <td class="info-text">85% </td>
   </tr>
   <tr>
       <td class="info-title">Result 2:</td>
       <td class="info-text">12 mm / hr </td>
   </tr>
   <tr>
       <td class="info-title">Result 3:</td>
       <td class="info-text">4.5 K </td>
   </tr>
</table>
</body>
</html>